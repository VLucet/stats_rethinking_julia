<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/stats_rethinking_julia/libs/highlight/github.min.css"> <link rel=stylesheet  href="/stats_rethinking_julia/css/franklin.css"> <link rel=stylesheet  href="/stats_rethinking_julia/css/poole_hyde.css"> <link rel=stylesheet  href="/stats_rethinking_julia/css/custom.css"> <style> html {font-size: 17px;} .franklin-content {position: relative; padding-left: 8%; padding-right: 5%;} @media (min-width: 940px) { .franklin-content {width: 100%; margin-left: auto; margin-right: auto;} } @media (max-width: 768px) { .franklin-content {padding-left: 6%; padding-right: 6%;} } </style> <link rel=icon  href="/stats_rethinking_julia/assets/favicon.png"> <title>Chapter 5</title> <div class=sidebar > <div class="container sidebar-sticky"> <div class=sidebar-about > </div> <style> @media (min-width: 768px) { /* .sidebar-nav { } */ } .sidebar .container.sidebar-sticky { top: 4rem; } .sidebar-nav .sidebar-nav-item.active { box-sizing: border-box; border-bottom: 1px #f1f1f1 solid; margin-right: -1em; margin-left: -0.5em; padding-left: 0.5em; color: white; font-weight: normal !important; } .sidebar-nav .sidebar-nav-item { color: #cccccc; margin: 0.25em 0; } </style> <nav class=sidebar-nav  style="opacity: 0.9"> <a class="sidebar-nav-item " href="/stats_rethinking_julia/">Home</a> <a class="sidebar-nav-item " href="/stats_rethinking_julia/models/">All models</a> <a class="sidebar-nav-item " href="/stats_rethinking_julia/chapters/chap_4/">Chapter 4</a> <a class="sidebar-nav-item " href="/stats_rethinking_julia/chapters/chap_5/">Chapter 5</a> </nav> <div class=bottom-sidebar > <a href="https://github.com/VLucet/stats_rethinking_julia">Go to GitHub repository &rarr;</a> <br> <br> <a href="https://julialang.org/"><img src="https://raw.githubusercontent.com/JuliaLang/julia-logo-graphics/master/images/julia-logo-dark.svg" height=32  style="display: inline-block; margin-bottom: -8px; opacity: 0.7"> powered.</a> </div> </div> </div> <div class="content container"> <div class=franklin-content > <h1 class=sidebar-title ><a href="/stats_rethinking_julia/">Spurious<span style="opacity:0.4"> associations</span></a></h1> <p>We start first by including the models needed to run the code for this chapter and by setting the seed.</p> <pre><code class=language-julia >include&#40;&quot;src/load_packages.jl&quot;&#41;;
include&#40;&quot;_literate/chap_5_models.jl&quot;&#41;;
Random.seed&#33;&#40;77&#41;;</code></pre> <h2 id=figure_51 ><a href="#figure_51" class=header-anchor >Figure 5.1</a></h2> <p>We first load the waffle data.</p> <pre><code class=language-julia >data_path &#61; joinpath&#40;TuringModels.project_root, &quot;data&quot;, &quot;WaffleDivorce.csv&quot;&#41;
waffle &#61; CSV.read&#40;data_path, DataFrame; delim&#61;&#39;;&#39;&#41;
first&#40;waffle, 5&#41;</code></pre><pre><code class=plaintext >5×13 DataFrame
 Row │ Location    Loc     Population  MedianAgeMarriage  Marriage  Marriage SE  Divorce  Divorce SE  WaffleHouses  South  Slaves1860  Population1860  PropSlaves1860
     │ String      String  Float64     Float64            Float64   Float64      Float64  Float64     Int64         Int64  Int64       Int64           Float64
─────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   1 │ Alabama     AL            4.78               25.3      20.2         1.27     12.7        0.79           128      1      435080          964201            0.45
   2 │ Alaska      AK            0.71               25.2      26.0         2.93     12.5        2.05             0      0           0               0            0.0
   3 │ Arizona     AZ            6.33               25.8      20.3         0.98     10.8        0.74            18      0           0               0            0.0
   4 │ Arkansas    AR            2.92               24.3      26.4         1.7      13.5        1.22            41      1      111115          435450            0.26
   5 │ California  CA           37.25               26.8      19.1         0.39      8.0        0.24             0      0           0          379994            0.0</code></pre> <p>This first figure is a simple plot, I did not bother running the regression however.</p> <pre><code class=language-julia >scatter&#40;waffle.WaffleHouses, waffle.Divorce, lab &#61; &quot;&quot;, markersize &#61; 4,
        xlab &#61; &quot;Waffle houses per million&quot;, ylab &#61; &quot;Divorce Rate&quot;&#41;
annot &#61; Array&#40;tuple.&#40;waffle.WaffleHouses.&#43;5, waffle.Divorce,
                     text.&#40;waffle.Loc, :left, 9&#41;&#41;&#41;
annotate&#33;&#40;annot&#41;</code></pre><pre><code class=plaintext >Plot{Plots.GRBackend() n=1}</code></pre>

<div class=page-foot >
  <div class=copyright >
    &copy; Valentin Lucet (theme modified from SymbolicsUtils.jl). Last modified: March 30, 2021. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a>.
  </div>
</div>
</div>
    </div>  
    
    <script>
        var els =  document.querySelectorAll(".language-julia")
        for (var i=0, l = els.length; i < l; i++) {
            var el = els[i]
            var out = el.parentNode.nextSibling
            if (out.tagName === "PRE") {
                out.className = out.className + " code-output"
            }
        }
    </script>
    
        <script src="/stats_rethinking_julia/libs/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: '    '});</script>